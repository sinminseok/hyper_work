<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≤ΩÍ∏∞ ÏÉÅÏÑ∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f5f6fa;
            margin: 0;
            padding: 0;
        }

        .main-wrapper {
            margin-left: 240px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: white;
            padding: 24px 40px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e9ecef;
        }

        .header-title {
            font-size: 28px;
            color: #2c3e50;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-info {
            color: #666;
            font-size: 14px;
            font-weight: 500;
        }

        .btn-logout {
            padding: 10px 20px;
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
        }

        .btn-logout:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.4);
        }

        .content-wrapper {
            padding: 30px 40px;
            max-width: 1200px;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: #6c757d;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(108, 117, 125, 0.3);
        }

        .back-button:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.4);
        }

        .detail-card {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 2px 16px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
            border: 1px solid #e9ecef;
        }

        .detail-header {
            border-bottom: 3px solid transparent;
            border-image: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-image-slice: 1;
            padding-bottom: 20px;
            margin-bottom: 32px;
        }

        .detail-header h2 {
            color: #2c3e50;
            font-size: 32px;
            margin-bottom: 12px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .status-badge {
            display: inline-block;
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
        }

        .status-scheduled {
            background: linear-gradient(135deg, #a8dadc 0%, #457b9d 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(168, 218, 220, 0.4);
        }

        .status-progress {
            background: linear-gradient(135deg, #06d6a0 0%, #118ab2 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(6, 214, 160, 0.4);
        }

        .status-finished {
            background: linear-gradient(135deg, #f28482 0%, #d62828 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(242, 132, 130, 0.4);
        }

        .detail-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .info-item {
            display: flex;
            padding: 12px 0;
        }

        .info-label {
            font-weight: 600;
            color: #666;
            min-width: 150px;
        }

        .info-value {
            color: #333;
            flex: 1;
        }

        .prize-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 24px;
            border-radius: 12px;
            margin-top: 20px;
            border: 1px solid #dee2e6;
        }

        .prize-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .prize-item:last-child {
            border-bottom: none;
        }

        .prize-label {
            font-weight: 600;
            color: #333;
        }

        .prize-value {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 20px;
            font-weight: 700;
        }

        .winner-section {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .winner-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 24px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #dee2e6;
            transition: all 0.3s ease;
        }

        .winner-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .winner-rank {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .winner-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .medal-gold {
            color: #FFD700;
        }

        .medal-silver {
            color: #C0C0C0;
        }

        .medal-bronze {
            color: #CD7F32;
        }
    </style>
</head>
<body>
<div th:replace="~{layout/sidebar :: sidebar}"></div>

<div class="main-wrapper">
    <div class="header">
        <h1 class="header-title">Í≤ΩÍ∏∞ ÏÉÅÏÑ∏</h1>
        <div class="header-right">
            <span class="user-info" sec:authentication="name">Í¥ÄÎ¶¨Ïûê</span>
            <form th:action="@{/logout}" method="post" style="margin: 0;">
                <button type="submit" class="btn-logout">Î°úÍ∑∏ÏïÑÏõÉ</button>
            </form>
        </div>
    </div>

    <div class="content-wrapper">
        <a th:href="@{/admin/games}" class="back-button">‚Üê Î™©Î°ùÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞</a>

        <div class="detail-card">
            <div class="detail-header">
                <h2 th:text="${game.name}">Í≤ΩÍ∏∞Î™Ö</h2>
                <span class="status-badge"
                      th:classappend="${game.isNotYetStart()} ? 'status-scheduled' : (${game.isInProgress()} ? 'status-progress' : 'status-finished')"
                      th:text="${game.isNotYetStart()} ? 'ÏòàÏ†ï' : (${game.isInProgress()} ? 'ÏßÑÌñâÏ§ë' : 'Ï¢ÖÎ£å')">
                    ÏòàÏ†ï
                </span>
            </div>

            <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ -->
            <div class="detail-section">
                <h3 class="section-title">Í∏∞Î≥∏ Ï†ïÎ≥¥</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Í≤ΩÍ∏∞ ID</span>
                        <span class="info-value" th:text="${game.id}">1</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Í≤ΩÍ∏∞ Ï¢ÖÎ™©</span>
                        <span class="info-value" th:text="${game.type.name}">Ïä§ÌîºÎìú</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ÌôúÎèô ÌÉÄÏûÖ</span>
                        <span class="info-value" th:text="${game.activityType}">Îã¨Î¶¨Í∏∞</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Í≤ΩÍ∏∞ Í±∞Î¶¨</span>
                        <span class="info-value" th:text="${game.distance.name + ' (' + game.distance.distance + 'm)'}">5KM (5000m)</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Í≤ΩÍ∏∞ ÏãúÍ∞Ñ</span>
                        <span class="info-value" th:text="${game.distance.time + 'Î∂Ñ'}">50Î∂Ñ</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ï∞∏Í∞Ä Ïù∏Ïõê</span>
                        <span class="info-value" th:text="${game.participatedCount + 'Î™Ö'}">10Î™Ö</span>
                    </div>
                </div>
            </div>

            <!-- Í≤ΩÍ∏∞ ÏùºÏ†ï -->
            <div class="detail-section">
                <h3 class="section-title">Í≤ΩÍ∏∞ ÏùºÏ†ï</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Í≤ΩÍ∏∞ ÏãúÏûë</span>
                        <span class="info-value" th:text="${#temporals.format(game.startAt, 'yyyy-MM-dd HH:mm')}">2025-01-10 10:00</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Í≤ΩÍ∏∞ Ï¢ÖÎ£å</span>
                        <span class="info-value" th:text="${#temporals.format(game.endAt, 'yyyy-MM-dd HH:mm')}">2025-01-10 11:00</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Îì±Î°ù ÏùºÏãú</span>
                        <span class="info-value" th:text="${#temporals.format(game.createdAt, 'yyyy-MM-dd HH:mm')}">2025-01-05 09:00</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ÏàòÏ†ï ÏùºÏãú</span>
                        <span class="info-value" th:text="${#temporals.format(game.updatedAt, 'yyyy-MM-dd HH:mm')}">2025-01-10 09:30</span>
                    </div>
                </div>
            </div>

            <!-- ÏÉÅÍ∏à Ï†ïÎ≥¥ -->
            <div class="detail-section">
                <h3 class="section-title">ÏÉÅÍ∏à Ï†ïÎ≥¥</h3>
                <div class="prize-section">
                    <div class="prize-item">
                        <span class="prize-label">Ï¥ù ÏÉÅÍ∏à</span>
                        <span class="prize-value" th:text="${#numbers.formatDecimal(game.totalPrize, 0, 'COMMA', 0, 'POINT') + 'Ïõê'}">12,000Ïõê</span>
                    </div>
                    <div class="prize-item">
                        <span class="prize-label">1Îì± ÏÉÅÍ∏à (80%)</span>
                        <span class="prize-value" th:text="${#numbers.formatDecimal(game.firstPlacePrize, 0, 'COMMA', 0, 'POINT') + 'Ïõê'}">9,600Ïõê</span>
                    </div>
                    <div class="prize-item">
                        <span class="prize-label">2Îì± ÏÉÅÍ∏à (15%)</span>
                        <span class="prize-value" th:text="${#numbers.formatDecimal(game.secondPlacePrize, 0, 'COMMA', 0, 'POINT') + 'Ïõê'}">1,800Ïõê</span>
                    </div>
                    <div class="prize-item">
                        <span class="prize-label">3Îì± ÏÉÅÍ∏à (5%)</span>
                        <span class="prize-value" th:text="${#numbers.formatDecimal(game.thirdPlacePrize, 0, 'COMMA', 0, 'POINT') + 'Ïõê'}">600Ïõê</span>
                    </div>
                </div>
            </div>

            <!-- Ïö∞ÏäπÏûê Ï†ïÎ≥¥ -->
            <div class="detail-section" th:if="${game.firstUserName != null or game.secondUserName != null or game.thirdUserName != null}">
                <h3 class="section-title">Ïö∞ÏäπÏûê Ï†ïÎ≥¥</h3>
                <div class="winner-section">
                    <div class="winner-card" th:if="${game.firstUserName != null}">
                        <div class="winner-rank medal-gold">ü•á 1Îì±</div>
                        <div class="winner-name" th:text="${game.firstUserName}">ÌôçÍ∏∏Îèô</div>
                    </div>
                    <div class="winner-card" th:if="${game.secondUserName != null}">
                        <div class="winner-rank medal-silver">ü•à 2Îì±</div>
                        <div class="winner-name" th:text="${game.secondUserName}">ÍπÄÏ≤†Ïàò</div>
                    </div>
                    <div class="winner-card" th:if="${game.thirdUserName != null}">
                        <div class="winner-rank medal-bronze">ü•â 3Îì±</div>
                        <div class="winner-name" th:text="${game.thirdUserName}">Ïù¥ÏòÅÌù¨</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
